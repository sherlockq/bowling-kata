package com.codurance.bowling;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.CsvSource;

import static org.junit.jupiter.api.Assertions.assertEquals;

class BowlingShould {

    @ParameterizedTest
    @CsvSource({
            "--|--|--|--|--|--|--|--|--|--||, 0",
            "1-|--|--|--|--|--|--|--|--|--||, 1",
            "2-|--|--|--|--|--|--|--|--|--||, 2",
            "--|--|2-|--|--|--|--|--|--|--||, 2",
            "--|--|--|-2|--|--|--|--|--|--||, 2",
            "2-|2-|--|-2|--|--|--|--|--|--||, 6",
            "1/|--|--|--|--|--|--|--|--|--||, 10",
            "2/|--|--|--|--|--|--|--|--|--||, 10",
            "1/|1-|--|--|--|--|--|--|--|--||, 12",
            "1/|1/|5-|--|--|--|--|--|--|--||, 31",
            "X|--|--|--|--|--|--|--|--|--||, 10",
            "X|1-|--|--|--|--|--|--|--|--||, 12",
            "X|11|--|--|--|--|--|--|--|--||, 14",
            "X|11|1-|--|--|--|--|--|--|--||, 15",
            "X|1/|--|--|--|--|--|--|--|--||, 30",
            "X|X|--|--|--|--|--|--|--|--||, 30",
            "X|X|1-|--|--|--|--|--|--|--||, 33",
            "X|X|X|1-|--|--|--|--|--|--||, 63",
            "X|X|X|1/|1-|--|--|--|--|--||, 83",
            "2/|X|X|X|--|--|--|--|--|--||, 80",
            "2/|X|X|X|1/|--|--|--|--|--||, 101",
            "2/|X|X|X|1/|5-|--|--|--|--||, 111",
            "1/|1/|53|--|--|--|--|--|--|--||, 34",
            "2/|X|X|X|1/|53|--|--|--|--||, 114",
            "2/|X|X|X|1/|53|33|33|33|33||, 138",
            "--|--|--|--|--|--|--|--|--|1/||1, 11",
            "--|--|--|--|--|--|--|--|--|1/||X, 20",
            // failing
            "--|--|--|--|--|--|--|--|--|X||XX, 30",

    })
    void score(String input, int expectedScore) {
        Bowling bowling = new Bowling();
        assertEquals(expectedScore, bowling.score(input));
    }
}
